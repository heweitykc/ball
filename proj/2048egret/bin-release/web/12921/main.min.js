var AssetAdapter=function(){function e(){}var t=(__define,e);return p=t.prototype,p.getAsset=function(e,t,i){function n(n){t.call(i,n,e)}var r=e;e.prototype&&(r=new e),r instanceof egret.DisplayObject||r instanceof egret.Texture?t.call(i,r,e):"string"==typeof e?RES.hasRes(e)?RES.getResAsync(e,n,this):RES.getResByUrl(e,n,this):t.call(i,r,e)},e}();egret.registerClass(AssetAdapter,"AssetAdapter",["egret.gui.IAssetAdapter"]);var AutoScreenAdapter=function(e){function t(){e.call(this)}__extends(t,e);var i=(__define,t);return p=i.prototype,p.calculateStageSize=function(e,t,i,n,r){e=egret.MainContext.deviceType==egret.MainContext.DEVICE_MOBILE?egret.StageScaleMode.SHOW_ALL:i>r&&t>n?egret.StageScaleMode.NO_SCALE:egret.StageScaleMode.SHOW_ALL;var o=n,s=r,a=n,u=r,g=t/a||0,l=i/u||0;switch(e){case egret.StageScaleMode.SHOW_ALL:g>l?(o=Math.round(a*l),s=Math.round(u*l)):(o=Math.round(a*g),s=Math.round(u*g))}return{stageWidth:a,stageHeight:u,displayWidth:o,displayHeight:s}},t}(egret.HashObject);egret.registerClass(AutoScreenAdapter,"AutoScreenAdapter",["egret.sys.IScreenAdapter"]);var game;!function(e){var t=function(e){function t(){e.call(this),this.skinName=skin.components.IconButtonSkin}__extends(t,e);var i=(__define,t);return p=i.prototype,t}(egret.gui.Button);e.IconButton=t,egret.registerClass(t,"game.IconButton")}(game||(game={}));var LoadingUI=function(e){function t(){e.call(this),this.skinName=skin.LoadingUISkin}__extends(t,e);var i=(__define,t);return p=i.prototype,p.setProgress=function(e,t){this.progressBar&&(this.progressBar.maximum=t,this.progressBar.value=e)},t}(egret.gui.SkinnableComponent);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.init,this)}__extends(t,e);var i=(__define,t);return p=i.prototype,p.init=function(){egret.sys.screenAdapter=new AutoScreenAdapter,egret.gui.mapClass("egret.gui.IAssetAdapter",AssetAdapter),egret.gui.Theme.load("resource/theme.thm"),this.appContainer=new game.AppContainer,this.addChild(this.appContainer),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/resource.json","resource/")},p.onConfigComplete=function(){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("loading",1),RES.loadGroup("preload")},p.onResourceLoadComplete=function(e){"loading"==e.groupName?(this.loadingView=new LoadingUI,this.appContainer.addElement(this.loadingView)):"preload"==e.groupName&&(this.appContainer.removeElement(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createGameScene())},p.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},p.createGameScene=function(){egret.gui.PopUpManager.modalAlpha=0,game.ApplicationFacade.getInstance().startUp(this.appContainer),game.ApplicationFacade.getInstance().sendNotification(game.SceneCommand.CHANGE,1)},t}(egret.Sprite);egret.registerClass(Main,"Main");var game;!function(e){var t=function(){function e(){}var t=(__define,e);return p=t.prototype,e}();e.AppConfig=t,egret.registerClass(t,"game.AppConfig")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this),this.startScreen=new e.StartScreen,this.gameScreen=new e.GameScreen}__extends(i,t);var n=(__define,i);return p=n.prototype,p.enterStartScreen=function(){this.removeAllElements(),this.addElement(this.startScreen)},p.enterGameScreen=function(){this.removeAllElements(),this.addElement(this.gameScreen),this.gameScreen.initialized||this.gameScreen.validateNow()},p.showSettingWindow=function(t){void 0===t&&(t="setting"),this.settingWindow||(this.settingWindow=new e.SettingWindow),this.settingWindow.setWindowType(t),egret.gui.PopUpManager.addPopUp(this.settingWindow,!0),this.settingWindow.verticalCenter=-700,egret.Tween.get(this.settingWindow).to({verticalCenter:0},500,egret.Ease.backOut)},p.showEndWindow=function(){this.endWindow||(this.endWindow=new e.EndWindow),this.endWindow.show(),this.endWindow.initialized||this.endWindow.validateNow()},i}(egret.gui.UIStage);e.AppContainer=t,egret.registerClass(t,"game.AppContainer")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this)}__extends(i,t);var n=(__define,i);return p=n.prototype,i.getInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},p.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(i.STARTUP,e.StartupCommand)},p.startUp=function(e){this.sendNotification(i.STARTUP,e),this.removeCommand(i.STARTUP)},i.STARTUP="startup",i}(puremvc.Facade);e.ApplicationFacade=t,egret.registerClass(t,"game.ApplicationFacade",["puremvc.IFacade","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.register=function(){this.facade.registerCommand(i.START_GAME,i),this.facade.registerCommand(i.FINISH_GAME,i),this.facade.registerCommand(i.UPDATE_SCORE,i)},p.execute=function(t){var n=this.facade.retrieveProxy(e.GameProxy.NAME),r=this.facade.retrieveProxy(e.GridProxy.NAME),o=t.getBody();switch(t.getName()){case i.START_GAME:this.sendNotification(e.SceneCommand.CHANGE,2),n.reset(),r.reset(),(new e.NetCommand).register();break;case i.UPDATE_SCORE:n.updateScore(o);break;case i.MOVE_TILE:r.move(o);break;case i.FINISH_GAME:o?(n.setResult(o),this.sendNotification(e.SceneCommand.SHOW_END)):(n.quit(),r.reset(),this.sendNotification(e.SceneCommand.CHANGE,1))}},i.NAME="GameCommand",i.START_GAME="start_game",i.FINISH_GAME="finish_game",i.UPDATE_SCORE="update_score",i.MOVE_TILE="move_tile",i}(puremvc.SimpleCommand);e.GameCommand=t,egret.registerClass(t,"game.GameCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(){function e(){}var t=(__define,e);return p=t.prototype,e.END="6",e.HELLO0="100",e.HELLO1="101",e.UP="2",e.DOWN="3",e.RIGHT="4",e.LEFT="5",e.START="8",e.TILE="9",e}();egret.registerClass(t,"CSCommand");var i=function(i){function n(){i.call(this)}__extends(n,i);var r=(__define,n);return p=r.prototype,p.msgCallback=function(i){var n=this.facade.retrieveProxy(e.GridProxy.NAME);if(console.log("server cmd:"+i),i==t.HELLO0)e.CommonData.isRunning=!1,e.CommonData.id=0;else if(i==t.HELLO1)e.CommonData.isRunning=!1,e.CommonData.id=1;else if(i==t.UP)n.move(0),e.CommonData.step++;else if(i==t.DOWN)n.move(2),e.CommonData.step++;else if(i==t.RIGHT)n.move(1),e.CommonData.step++;else if(i==t.LEFT)n.move(3),e.CommonData.step++;else if(i[0]==t.START){var r=i.slice(1,i.length);console.log("开始游戏:"+r);for(var o=r.split("|"),s=0;s<o.length;s++){var a=o[s].split(","),u={x:Number(a[0]),y:Number(a[1])};n.addNetTile(u,2)}e.CommonData.isRunning=!0}else if(i[0]==t.TILE){var r=i.slice(1,i.length);console.log("新tile:"+r)}},p.register=function(){this.Connect(),e.CommonData.isRunning=!1,this.facade.registerCommand(e.GameCommand.MOVE_TILE,n)},p.execute=function(t){var i=t.getBody();switch(t.getName()){case e.GameCommand.MOVE_TILE:this.onMove(i)}},p.onMove=function(i){var n=e.CommonData.step%2;console.log("ret="+n),n==e.CommonData.id&&(0==i?this.SendMsg(t.UP):1==i?this.SendMsg(t.RIGHT):2==i?this.SendMsg(t.DOWN):3==i&&this.SendMsg(t.LEFT))},p.Connect=function(){e.CommonData.socket=new egret.WebSocket,e.CommonData.socket.type=egret.WebSocket.TYPE_STRING,e.CommonData.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),e.CommonData.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),e.CommonData.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),e.CommonData.socket.connectByUrl("ws://182.254.149.35:1234/socket"),console.log("socket start")},p.onReceiveMessage=function(){var t=e.CommonData.socket.readUTF();this.msgCallback(t)},p.SendMsg=function(t){console.log("send:"+t),e.CommonData.socket.writeUTF(t),e.CommonData.socket.flush()},p.onSocketOpen=function(){console.log("socket connected")},p.onSocketClose=function(){console.log("socket close")},n}(puremvc.SimpleCommand);e.NetCommand=i,egret.registerClass(i,"game.NetCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.register=function(){this.facade.registerCommand(i.CHANGE,i),this.facade.registerCommand(i.SHOW_SETTING,i),this.facade.registerCommand(i.SHOW_END,i)},p.execute=function(t){var n=t.getBody(),r=this.facade.retrieveMediator(e.ApplicationMediator.NAME);switch(t.getName()){case i.CHANGE:1==n?r.main.enterStartScreen():r.main.enterGameScreen();break;case i.SHOW_SETTING:r.main.showSettingWindow(n);break;case i.SHOW_END:egret.setTimeout(function(){r.main.showEndWindow()},this,300)}},i.NAME="SceneCommand",i.CHANGE="scene_change",i.SHOW_SETTING="scene_setting",i.SHOW_END="scene_end",i}(puremvc.SimpleCommand);e.SceneCommand=t,egret.registerClass(t,"game.SceneCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.execute=function(){(new e.GameCommand).register(),(new e.SceneCommand).register()},i}(puremvc.SimpleCommand);e.ControllerPrepCommand=t,egret.registerClass(t,"game.ControllerPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.execute=function(){this.facade.registerProxy(new e.GameProxy),this.facade.registerProxy(new e.GridProxy)},i}(puremvc.SimpleCommand);e.ModelPrepCommand=t,egret.registerClass(t,"game.ModelPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.initializeMacroCommand=function(){this.addSubCommand(e.ControllerPrepCommand),this.addSubCommand(e.ModelPrepCommand),this.addSubCommand(e.ViewPrepCommand)},i}(puremvc.MacroCommand);e.StartupCommand=t,egret.registerClass(t,"game.StartupCommand")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.execute=function(t){var i=t.getBody();this.facade.registerMediator(new e.ApplicationMediator(i))},i}(puremvc.SimpleCommand);e.ViewPrepCommand=t,egret.registerClass(t,"game.ViewPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(){function e(){}var t=(__define,e);return p=t.prototype,e.EASY="easy",e.NORMAL="normal",e.SPECIAL="special",e}();e.Level=t,egret.registerClass(t,"game.Level")}(game||(game={}));var game;!function(e){var t=function(){function t(){}var i=__define,n=t;return p=n.prototype,i(t,"size",function(){return t.level==e.Level.EASY?6:t.level==e.Level.NORMAL?5:t.level==e.Level.SPECIAL?4:void 0}),t.winValue=2048,t.level=e.Level.NORMAL,t.highScore=0,t.isRunning=!1,t.step=0,t}();e.CommonData=t,egret.registerClass(t,"game.CommonData")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this,i.NAME),this.won=!1,this.over=!1,this._score=0}__extends(i,t);var n=__define,r=i;return p=r.prototype,n(p,"score",function(){return this._score}),p.reset=function(){this._score=0,this.won=!1,this.over=!1,e.CommonData.isRunning=!0,this.sendNotification(i.SCORE_RESET)},p.updateScore=function(t){0!=t&&(this._score+=t,this._score>e.CommonData.highScore&&(e.CommonData.highScore=this._score),this.sendNotification(i.SCORE_UPDATE,{totalScore:this.score,highScore:e.CommonData.highScore,addScore:t}))},p.setResult=function(t){t?this.won=!0:this.over=!0,e.CommonData.isRunning=!1},p.quit=function(){this.reset(),this.over=!0,e.CommonData.isRunning=!1},i.NAME="GameProxy",i.SCORE_UPDATE="score_update",i.SCORE_RESET="score_reset",i}(puremvc.Proxy);e.GameProxy=t,egret.registerClass(t,"game.GameProxy",["puremvc.IProxy","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this,i.NAME),this.cells=[],this.startTiles=2,this.playerTurn=!0}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.reset=function(){this.size=e.CommonData.size,this.cells=[];for(var t=0;t<this.size;t++){var n=[];this.cells.push(n);for(var r=0;r<this.size;r++)n.push(null)}this.playerTurn=!0,this.sendNotification(i.TILE_RESET)},p.move=function(t){var i=!1,n=!1,r=0;this.prepareTiles();for(var o=this.buildMoveOrder(t),s=0;s<o.length;s++){var a=o[s];if(a){var u=this.findFarthestPosition({x:a.x,y:a.y},t),g=this.getNextPosition(u,t),l=this.cellContent(g.x,g.y);if(l&&l.value==a.value&&!l.merged){var c=a.value+l.value;this.mergedTile(a,l),a.x=l.x,a.y=l.y,r+=c,c>=e.CommonData.winValue&&(i=!0)}else this.moveTile(a,u.x,u.y);(a.x!=a.previousPosition.x||a.y!=a.previousPosition.y)&&(this.playerTurn=!1,n=!0)}}r>0&&this.sendNotification(e.GameCommand.UPDATE_SCORE,r),i?this.sendNotification(e.GameCommand.FINISH_GAME,!0):(n&&this.computerMove(),this.movesAvailable()||this.sendNotification(e.GameCommand.FINISH_GAME,!1))},p.computerMove=function(){this.addRandomTile(),this.playerTurn=!0},p.buildMoveOrder=function(e){for(var t=[],i=this.getVector(e),n=1==i.x?!0:!1,r=1==i.y?!0:!1,o=n?this.size-1:0;o>=0&&o<this.size;){for(var s=r?this.size-1:0;s>=0&&s<this.size;)t.push(this.cellContent(o,s)),s+=r?-1:1;o+=n?-1:1}return t},p.findFarthestPosition=function(e,t){{var i;this.getVector(t)}do i=e,e=this.getNextPosition(e,t);while(this.withinBounds(e.x,e.y)&&this.isAvailable(e.x,e.y));return i},p.getNextPosition=function(e,t){var i=this.getVector(t);return{x:e.x+i.x,y:e.y+i.y}},p.prepareTiles=function(){for(var e=0;e<this.size;e++)for(var t=0;t<this.size;t++){var i=this.cells[e][t];i&&(i.merged=!1,i.previousPosition={x:i.x,y:i.y})}},p.addStartTiles=function(){for(var e=0;e<this.startTiles;e++)this.addRandomTile()},p.addRandomTile=function(){var t=this.randomAvailableCell;e.CommonData.currentTile=t,this.addNetTile(t,2)},p.addNetTile=function(t,i){if(this.cellsAvailable()){var n=t,r=new e.TileVO;r.x=n.x,r.y=n.y,r.value=i,this.insertTile(r)}},p.movesAvailable=function(){for(var e=0;e<this.size;e++)for(var t=0;t<this.size;t++){var i=this.cells[e][t];if(i)for(var n=0;4>n;n++){var r=this.getNextPosition({x:i.x,y:i.y},n),o=this.cellContent(r.x,r.y);if(!o&&this.withinBounds(r.x,r.y)||o&&o.value==i.value)return!0}}return!1},p.cellsAvailable=function(){return this.availableCells.length>0?!0:!1},p.isAvailable=function(e,t){return!this.isOccupied(e,t)},p.isOccupied=function(e,t){return this.cellContent(e,t)?!0:!1},p.cellContent=function(e,t){return this.withinBounds(e,t)?this.cells[e][t]:null},p.withinBounds=function(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size},p.mergedTile=function(t,n){var r=new e.TileVO;r.x=n.x,r.y=n.y,r.previousPosition={x:t.x,y:t.y},r.value=t.value+n.value,r.merged=!0,this.cells[t.x][t.y]=null,this.cells[n.x][n.y]=r,this.sendNotification(i.TILE_MERGED,r.clone())},p.moveTile=function(e,t,n){(e.x!=t||e.y!=n)&&(this.cells[e.x][e.y]=null,e.x=t,e.y=n,this.cells[e.x][e.y]=e,this.sendNotification(i.TILE_MOVE,e.clone()))},p.insertTile=function(e){this.cells[e.x][e.y]=e,this.sendNotification(i.TILE_INSERT,e.clone())},p.removeTile=function(e){this.cells[e.x][e.y]=null,this.sendNotification(i.TILE_REMOVE,e.clone())},p.getVector=function(e){return 0==e?{x:0,y:-1}:1==e?{x:1,y:0}:2==e?{x:0,y:1}:3==e?{x:-1,y:0}:null},n(p,"randomAvailableCell",function(){var e=this.availableCells;return e.length?e[Math.floor(Math.random()*e.length)]:null}),n(p,"availableCells",function(){for(var e=[],t=0;t<this.size;t++)for(var i=0;i<this.size;i++)this.cells[t][i]||e.push({x:t,y:i});return e}),i.NAME="GridProxy",i.TILE_RESET="tile_reset",i.TILE_MOVE="tile_move",i.TILE_INSERT="tile_insert",i.TILE_REMOVE="tile_remove",i.TILE_MERGED="tile_merged",i}(puremvc.Proxy);e.GridProxy=t,egret.registerClass(t,"game.GridProxy",["puremvc.IProxy","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(){function e(){}var t=(__define,e);return p=t.prototype,p.clone=function(){var t=new e;return t.x=this.x,t.y=this.y,t.value=this.value,this.previousPosition&&(t.previousPosition={x:this.previousPosition.x,y:this.previousPosition.y}),t.merged=this.merged,t},e}();e.TileVO=t,egret.registerClass(t,"game.TileVO")}(game||(game={}));var game;!function(e){var t=function(){function e(e){this.className=e,this.list=[]}var t=(__define,e);return p=t.prototype,p.borrowObject=function(){if(this.list.length>0)return this.list.shift();var e=egret.getDefinitionByName(this.className);return new e},p.returnObject=function(e){this.list.push(e)},e.getPool=function(t){return e.pool[t]||(e.pool[t]=new e(t)),e.pool[t]},e.pool={},e}();e.ObjectPool=t,egret.registerClass(t,"game.ObjectPool")}(game||(game={}));var game;!function(e){var t=function(e){function t(i){e.call(this,t.NAME,i)}__extends(t,e);var i=__define,n=t;return p=n.prototype,p.listNotificationInterests=function(){return[]},p.handleNotification=function(e){e.getName()},i(p,"main",function(){return this.viewComponent}),t.NAME="ApplicationMediator",t}(puremvc.Mediator);e.ApplicationMediator=t,egret.registerClass(t,"game.ApplicationMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(e){t.call(this,i.NAME,e),this.endWindow.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buttonClick,this),this.endWindow.retryButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buttonClick,this),this.endWindow.returnButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buttonClick,this),this.endWindow.addEventListener(egret.Event.ADDED_TO_STAGE,this.initData,this),this.initData()}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.initData=function(t){void 0===t&&(t=null);var i=this.facade.retrieveProxy(e.GameProxy.NAME);this.endWindow.highScoreLabel.text=e.CommonData.highScore.toString(),this.endWindow.totalScoreLabel.text=i.score.toString()},p.buttonClick=function(t){this.endWindow.close(),this.sendNotification(t.currentTarget==this.endWindow.retryButton?e.GameCommand.START_GAME:e.GameCommand.FINISH_GAME)},p.listNotificationInterests=function(){return[]},p.handleNotification=function(e){e.getName()},n(p,"endWindow",function(){return this.viewComponent}),i.NAME="EndWindowMediator",i}(puremvc.Mediator);e.EndWindowMediator=t,egret.registerClass(t,"game.EndWindowMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(e){t.call(this,i.NAME,e),this.gameMenuUI.pauseButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.pauseButtonClick,this)}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.pauseButtonClick=function(){this.sendNotification(e.SceneCommand.SHOW_SETTING,"pause")},p.listNotificationInterests=function(){return[e.GameProxy.SCORE_UPDATE,e.GameProxy.SCORE_RESET]},p.handleNotification=function(t){var i=t.getBody();switch(t.getName()){case e.GameProxy.SCORE_UPDATE:this.gameMenuUI.scoreLabel.text=i.totalScore.toString(),this.gameMenuUI.highScoreLabel.text=i.highScore.toString();break;case e.GameProxy.SCORE_RESET:this.gameMenuUI.reset()}},n(p,"gameMenuUI",function(){return this.viewComponent}),i.NAME="GameMenuMediator",i}(puremvc.Mediator);e.GameMenuMediator=t,egret.registerClass(t,"game.GameMenuMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(e){t.call(this,i.NAME,e)}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.listNotificationInterests=function(){return[e.GridProxy.TILE_INSERT,e.GridProxy.TILE_MERGED,e.GridProxy.TILE_MOVE,e.GridProxy.TILE_REMOVE,e.GridProxy.TILE_RESET]},p.handleNotification=function(t){var i=t.getBody();switch(t.getName()){case e.GridProxy.TILE_INSERT:this.gameScene.createTile(i);break;case e.GridProxy.TILE_MERGED:this.gameScene.mergedTile(i);break;case e.GridProxy.TILE_MOVE:this.gameScene.moveTile(i);break;case e.GridProxy.TILE_REMOVE:this.gameScene.removeTile(i);break;case e.GridProxy.TILE_RESET:this.gameScene.clearTiles()}},n(p,"gameScene",function(){return this.viewComponent}),i.NAME="GameSceneMediator",i}(puremvc.Mediator);e.GameSceneMediator=t,egret.registerClass(t,"game.GameSceneMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(e){if(t.call(this,i.NAME,e),this.lastMoveTime=0,egret.MainContext.deviceType!=egret.MainContext.DEVICE_MOBILE){var n=this;document.addEventListener("keydown",function(e){switch(e.keyCode){case 38:n.doMove(0);break;case 39:n.doMove(1);break;case 40:n.doMove(2);break;case 37:n.doMove(3)}})}else this.gamescreen.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDownHandle,this)}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.mouseDownHandle=function(e){egret.gui.UIGlobals.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),egret.gui.UIGlobals.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),egret.gui.UIGlobals.stage.addEventListener(egret.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.downPoint=this.gamescreen.globalToLocal(e.stageX,e.stageY)},p.stage_mouseMoveHandler=function(e){this.movePoint||(this.movePoint=new egret.Point),this.movePoint.x=e.stageX,this.movePoint.y=e.stageY,this.needMove||(this.needMove=!0)},p.stage_mouseUpHandler=function(){egret.gui.UIGlobals.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),egret.gui.UIGlobals.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),egret.gui.UIGlobals.stage.addEventListener(egret.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this),this.needMove&&(this.updateWhenMouseUp(),this.needMove=!1)},p.updateWhenMouseUp=function(){this.gamescreen.globalToLocal();var e=this.gamescreen.globalToLocal(this.movePoint.x,this.movePoint.y),t=e.x-this.downPoint.x,i=e.y-this.downPoint.y;0>i&&Math.abs(i)>Math.abs(t)?this.doMove(0):t>0&&t>Math.abs(i)?this.doMove(1):i>0&&i>Math.abs(t)?this.doMove(2):0>t&&Math.abs(t)>Math.abs(i)&&this.doMove(3)},p.doMove=function(t){if(e.CommonData.isRunning&&egret.getTimer()-this.lastMoveTime>=150){switch(t){case 0:this.sendNotification(e.GameCommand.MOVE_TILE,0);break;case 1:this.sendNotification(e.GameCommand.MOVE_TILE,1);break;case 2:this.sendNotification(e.GameCommand.MOVE_TILE,2);break;case 3:this.sendNotification(e.GameCommand.MOVE_TILE,3)}this.lastMoveTime=egret.getTimer()}},p.listNotificationInterests=function(){return[]},p.handleNotification=function(e){e.getName()},n(p,"gamescreen",function(){return this.viewComponent}),i.NAME="GameScreenMediator",i}(puremvc.Mediator);e.GameScreenMediator=t,egret.registerClass(t,"game.GameScreenMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(e){function t(){e.call(this),this.skinName=skin.AboutSkin}__extends(t,e);var i=(__define,t);return p=i.prototype,p.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i==this.backButton&&this.backButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBackButtonClick,this)},p.onBackButtonClick=function(){egret.gui.PopUpManager.removePopUp(this)},t}(egret.gui.SkinnableComponent);e.AboutWindow=t,egret.registerClass(t,"game.AboutWindow")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this),this.title="Well Done!",this.skinName=skin.EndScreenSkin,this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.createCompleteEvent=function(){this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.EndWindowMediator(this))},p.show=function(){this.invalidateSkinState(),egret.gui.PopUpManager.addPopUp(this,!0)},p.close=function(){egret.gui.PopUpManager.removePopUp(this),this.validateSkinState()},p.getCurrentSkinState=function(){return this.parent?"open":"close"},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i}(egret.gui.TitleWindow);e.EndWindow=t,egret.registerClass(t,"game.EndWindow")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this),this.resetFlag=!0,this.skinName=skin.GameMenuSkin,this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.createCompleteEvent=function(){this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.GameMenuMediator(this))},p.reset=function(){this.resetFlag=!0,this.invalidateProperties()},p.commitProperties=function(){this.resetFlag&&(this.resetFlag=!1,this.scoreLabel.text="0",this.highScoreLabel.text=e.CommonData.highScore.toString(),this.levelLabel.text=e.CommonData.level.toLocaleUpperCase(),this.levelIcon.source="level_small_"+e.CommonData.level)},i}(egret.gui.SkinnableComponent);e.GameMenuUI=t,egret.registerClass(t,"game.GameMenuUI")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this),this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),this.addContainer()}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.addContainer=function(){this.tileGroup=new egret.Sprite,this.source=this.tileGroup},p.createCompleteEvent=function(){this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.GameSceneMediator(this))},p.createTile=function(t){var i=e.ObjectPool.getPool("game.TileUI").borrowObject();i.value=t.value,i.location.x=t.x,i.location.y=t.y,i.width=i.height=this.tileSize,i.anchorOffsetX=i.anchorOffsetY=this.tileSize/2,i.x=t.x*(i.width+this.gap)+i.width/2,i.y=t.y*(i.height+this.gap)+i.height/2,i.visible=!1,this.tileGroup.addChild(i);var n=function(){i.visible=!0,i.playScale(t.merged?!0:!1)};egret.setTimeout(n,this,100)},p.getTileUI=function(e,t){for(var i=0;i<this.tileGroup.numChildren;i++){var n=this.tileGroup.getChildAt(i);if(n.location.x==e&&n.location.y==t)return n}return null},p.mergedTile=function(t){var i=this.getTileUI(t.previousPosition.x,t.previousPosition.y),n=this.getTileUI(t.x,t.y);if(i&&n){this.tileGroup.setChildIndex(i,0);var r=this;i.location.x=-1,i.location.y=-1,i.playmove(t.x*(i.width+this.gap)+i.width/2,t.y*(i.height+this.gap)+i.height/2);var o=function(){i.removeEventListener("moveComplete",o,r),i.parent&&r.tileGroup.removeChild(i),e.ObjectPool.getPool("game.TileUI").returnObject(i),n.value=t.value,r.tileGroup.setChildIndex(n,r.tileGroup.numChildren-1),n.playScale(!0)};i.addEventListener("moveComplete",o,this)}},p.removeTile=function(t){var i=this.getTileUI(t.x,t.y);i&&(this.tileGroup.removeChild(i),e.ObjectPool.getPool("game.TileUI").returnObject(i))},p.moveTile=function(e){var t=this.getTileUI(e.previousPosition.x,e.previousPosition.y);t&&(t.location.x=e.x,t.location.y=e.y,t.playmove(e.x*(t.width+this.gap)+t.width/2,e.y*(t.height+this.gap)+t.height/2))},p.clearTiles=function(){for(var t,i=this.tileGroup.numChildren,n=i-1;n>=0;n--)t=this.tileGroup.removeChildAt(n),e.ObjectPool.getPool("game.TileUI").returnObject(t)},n(p,"tileSize",function(){return(560-(e.CommonData.size+1)*this.gap)/e.CommonData.size}),n(p,"gap",function(){return 0}),i}(egret.gui.UIAsset);e.GameScene=t,egret.registerClass(t,"game.GameScene")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this),this.skinName=skin.MainGameUISkin,this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.createCompleteEvent=function(){this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.GameScreenMediator(this))},i}(egret.gui.SkinnableComponent);e.GameScreen=t,egret.registerClass(t,"game.GameScreen")}(game||(game={}));var game;!function(e){var t=function(e){function t(){e.call(this),this.state=1,this.skinName=skin.HowtoPlaySkin}__extends(t,e);var i=(__define,t);return p=i.prototype,p.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i==this.prevButton?this.prevButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPrevButtonClick,this):i==this.nextButton&&this.nextButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onNextButtonClick,this)},p.onPrevButtonClick=function(){1==this.state?egret.gui.PopUpManager.removePopUp(this):(this.state--,this.invalidateSkinState())},p.onNextButtonClick=function(){4==this.state?egret.gui.PopUpManager.removePopUp(this):(this.state++,this.invalidateSkinState())},p.getCurrentSkinState=function(){return"s"+this.state},t}(egret.gui.SkinnableComponent);e.HowtoplayWindow=t,egret.registerClass(t,"game.HowtoplayWindow")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this),this.title="Settings",this.skinName=skin.SettingScreenSkin,this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.createCompleteEvent=function(){this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.SettingWindowMediator(this))},n(p,"type",function(){return this._type}),p.setWindowType=function(e){this._type=e,this.invalidateSkinState()},p.getCurrentSkinState=function(){return this._type},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),i==this.closeButton&&this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseButtonClick,this)},p.onCloseButtonClick=function(){egret.gui.PopUpManager.removePopUp(this)},i}(egret.gui.TitleWindow);e.SettingWindow=t,egret.registerClass(t,"game.SettingWindow")}(game||(game={}));var game;!function(e){var t=function(t){function i(){t.call(this),this.skinName=skin.StartScreenSkin,this.addEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)}__extends(i,t);var n=(__define,i);return p=n.prototype,p.createCompleteEvent=function(){this.removeEventListener(egret.gui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.StartScreenMediator(this))},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i}(egret.gui.SkinnableComponent);e.StartScreen=t,egret.registerClass(t,"game.StartScreen")}(game||(game={}));var game;!function(e){var t=function(e){function t(){e.call(this),this.location={x:0,y:0}}__extends(t,e);var i=__define,n=t;return p=n.prototype,i(p,"value",function(){return this._value},function(e){e!=this._value&&(this._value=e,this.updateValue())}),p.updateValue=function(){var e=Math.log(this._value)/Math.log(2);this.texture=RES.getRes("tile_"+e)},p.playScale=function(e){if(void 0===e&&(e=!1),e){var t=this,i=function(){egret.Tween.get(t).to({scaleX:1,scaleY:1},80)};this.scaleX=this.scaleY=1,egret.Tween.get(this).to({scaleX:1.3,scaleY:1.3},80).call(i,this)}else this.scaleX=this.scaleY=.1,egret.Tween.get(this).to({scaleX:1,scaleY:1},100)},p.playmove=function(e,t){var i=this;egret.Tween.get(this).to({x:e,y:t},100).call(function(){i.dispatchEvent(new egret.Event("moveComplete"))},this)},t}(egret.Bitmap);e.TileUI=t,egret.registerClass(t,"game.TileUI")}(game||(game={}));var game;!function(e){var t=function(t){function i(e){t.call(this,i.NAME,e),this.settingWindow.howtoplayButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.howtoplayButtonClick,this),this.settingWindow.aboutButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.aboutButtonClick,this),this.settingWindow.resumeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.resumeButtonClick,this),this.settingWindow.restartButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.restartButtonClick,this),this.settingWindow.quitButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.quitButtonClick,this),this.settingWindow.yesButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.yesButtonClick,this),this.settingWindow.noButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.resumeButtonClick,this)
}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.howtoplayButtonClick=function(){var t=new e.HowtoplayWindow;egret.gui.PopUpManager.addPopUp(t,!0)},p.aboutButtonClick=function(){var t=new e.AboutWindow;egret.gui.PopUpManager.addPopUp(t,!0)},p.resumeButtonClick=function(){egret.gui.PopUpManager.removePopUp(this.settingWindow)},p.restartButtonClick=function(){this.settingWindow.setWindowType("restart")},p.quitButtonClick=function(){this.settingWindow.setWindowType("quit")},p.yesButtonClick=function(){egret.gui.PopUpManager.removePopUp(this.settingWindow),"restart"==this.settingWindow.type?this.sendNotification(e.GameCommand.START_GAME):"quit"==this.settingWindow.type&&this.sendNotification(e.GameCommand.FINISH_GAME)},p.listNotificationInterests=function(){return[]},p.handleNotification=function(e){e.getName()},n(p,"settingWindow",function(){return this.viewComponent}),i.NAME="SettingWindowMediator",i}(puremvc.Mediator);e.SettingWindowMediator=t,egret.registerClass(t,"game.SettingWindowMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var game;!function(e){var t=function(t){function i(n){t.call(this,i.NAME,n),this.setLevel(e.CommonData.level),this.startScreen.levelButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.levelButtonClick,this),this.startScreen.playButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startButtonClick,this),this.startScreen.settingButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.settingButtonClick,this)}__extends(i,t);var n=__define,r=i;return p=r.prototype,p.settingButtonClick=function(){this.sendNotification(e.SceneCommand.SHOW_SETTING,"setting")},p.levelButtonClick=function(){e.CommonData.level==e.Level.EASY?this.setLevel(e.Level.NORMAL):e.CommonData.level==e.Level.NORMAL?this.setLevel(e.Level.SPECIAL):e.CommonData.level==e.Level.SPECIAL&&this.setLevel(e.Level.EASY)},p.setLevel=function(t){e.CommonData.level=t,this.startScreen.levelButton.label=t.toLocaleUpperCase(),this.startScreen.levelButton.icon="level_"+t},p.startButtonClick=function(){this.sendNotification(e.GameCommand.START_GAME)},p.listNotificationInterests=function(){return[]},p.handleNotification=function(e){e.getBody();e.getName()},n(p,"startScreen",function(){return this.viewComponent}),i.NAME="StartScreenMediator",i}(puremvc.Mediator);e.StartScreenMediator=t,egret.registerClass(t,"game.StartScreenMediator",["puremvc.IMediator","puremvc.INotifier"])}(game||(game={}));var skin;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__3_i(),this.__4_i(),this.__5_i(),this.__6_i(),this.__7_i(),this.backButton_i(),this.__8_i(),this.__9_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=__define,n=t;return p=n.prototype,i(p,"skinParts",function(){return t._skinParts}),p.__4_i=function(){var e=new egret.gui.Label;return this.__s(e,["bold","fontFamily","horizontalCenter","size","text","textColor","top"],[!0,"Arial",0,22,"www.egret-labs.org",20317,159]),e},p.__5_i=function(){var e=new egret.gui.Label;return this.__s(e,["bold","fontFamily","horizontalCenter","size","text","textColor","top"],[!0,"Arial",0,23,"Copyright © 2014",20317,196]),e},p.__6_i=function(){var e=new egret.gui.UIAsset;return this.__s(e,["horizontalCenter","source","top"],[0,"about_logo",24]),e},p.__7_i=function(){var e=new egret.gui.UIAsset;return this.__s(e,["bottom","horizontalCenter","source"],[141,0,"about_logo2"]),e},p.__8_i=function(){var e=new egret.gui.Label;return this.__s(e,["bottom","fontFamily","horizontalCenter","size","text","textColor"],[21,"Arial",0,12,"version:1.0.0",9803157]),e},p.__9_i=function(){var e=new egret.gui.Label;return this.__s(e,["bold","fontFamily","horizontalCenter","text","textColor","top"],[!0,"Arial",0,"Egret Games",20317,118]),e},p.backButton_i=function(){var e=new egret.gui.Button;return this.backButton=e,this.__s(e,["bottom","horizontalCenter","label","width"],[49,0,"Back",446]),e},p.__3_i=function(){var e=new egret.gui.UIAsset;return e.source="about_background",e},t._skinParts=["backButton"],t}(egret.gui.Skin);e.AboutSkin=t,egret.registerClass(t,"skin.AboutSkin")}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i(),this.labelDisplay_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","custom_down")]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=__define,n=t;return p=n.prototype,i(p,"skinParts",function(){return t._skinParts}),p.labelDisplay_i=function(){var e=new egret.gui.Label;return this.labelDisplay=e,this.__s(e,["bold","bottom","fontFamily","left","right","text","textAlign","textColor","top","verticalAlign"],[!0,30,"Arial",30,30,"Button","center",100887,30,"middle"]),e},p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__4=e,this.__s(e,["bottom","left","right","scale9Grid","source","top"],[0,0,0,egret.gui.getScale9Grid("38,38,20,16"),"custom_normal",0]),e},t._skinParts=["labelDisplay"],t}(egret.gui.Skin);e.ButtonSkin=t,egret.registerClass(t,"skin.components.ButtonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=(__define,t);return p=i.prototype,p.__4_i=function(){var e=new egret.gui.Rect;return this.__s(e,["bottom","fillAlpha","left","right","top"],[0,0,0,0,0]),e},t}(egret.gui.Skin);e.CloseButtonSkin=t,egret.registerClass(t,"skin.components.CloseButtonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.minWidth=300,this.elementsContent=[this.__4_i(),this.labelDisplay_i(),this.iconDisplay_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","icon_down")]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=__define,n=t;return p=n.prototype,i(p,"skinParts",function(){return t._skinParts}),p.iconDisplay_i=function(){var e=new egret.gui.UIAsset;return this.iconDisplay=e,this.__s(e,["left","source","verticalCenter"],[30,"level_easy",-.5]),e},p.labelDisplay_i=function(){var e=new egret.gui.Label;return this.labelDisplay=e,this.__s(e,["bold","fontFamily","horizontalCenter","text","textColor","verticalCenter"],[!0,"Arial",33,"Normal",100887,0]),e},p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__4=e,this.__s(e,["bottom","left","right","scale9Grid","source","top"],[0,0,0,egret.gui.getScale9Grid("109,36,15,15"),"icon_normal",0]),e},t._skinParts=["labelDisplay","iconDisplay"],t}(egret.gui.Skin);e.IconButtonSkin=t,egret.registerClass(t,"skin.components.IconButtonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__7_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__7","source","music_down")]),new egret.gui.State("disabled",[]),new egret.gui.State("upAndSelected",[new egret.gui.SetProperty("__7","source","music_non_normal")]),new egret.gui.State("downAndSelected",[new egret.gui.SetProperty("__7","source","music_non_down")]),new egret.gui.State("disabledAndSelected",[])]}__extends(t,e);var i=(__define,t);return p=i.prototype,p.__7_i=function(){var e=new egret.gui.UIAsset;return this.__7=e,e.source="music_normal",e},t}(egret.gui.Skin);e.MusicButonSkin=t,egret.registerClass(t,"skin.components.MusicButonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","pause_down")]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=(__define,t);return p=i.prototype,p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__4=e,this.__s(e,["bottom","left","right","source","top"],[0,0,0,"pause_normal",0]),e},t}(egret.gui.Skin);e.PauseButtonSkin=t,egret.registerClass(t,"skin.components.PauseButtonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.width=293,this.elementsContent=[this.__4_i(),this.__5_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","play_down")]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=(__define,t);return p=i.prototype,p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__4=e,this.__s(e,["bottom","left","right","scale9Grid","source","top"],[0,0,0,egret.gui.getScale9Grid("39,39,15,74"),"play_normal",0]),e},p.__5_i=function(){var e=new egret.gui.Label;return this.__s(e,["fontFamily","right","size","text","textColor","verticalCenter"],["Arial",116,45,"PLAY",72074,0]),e},t}(egret.gui.Skin);e.PlayButtonSkin=t,egret.registerClass(t,"skin.components.PlayButtonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[20,100]),this.elementsContent=[this.track_i(),this.thumb_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=__define,n=t;return p=n.prototype,i(p,"skinParts",function(){return t._skinParts}),p.thumb_i=function(){var e=new egret.gui.Rect;return this.thumb=e,this.__s(e,["bottom","fillColor","left","top","width"],[0,2267278,1,0,20]),e},p.track_i=function(){var e=new egret.gui.Rect;return this.track=e,this.__s(e,["bottom","fillColor","left","right","strokeAlpha","strokeColor","top"],[0,15132390,0,0,1,11119017,0]),e},t._skinParts=["track","thumb"],t}(egret.gui.Skin);e.ProgressBarSkin=t,egret.registerClass(t,"skin.components.ProgressBarSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","retry2_down")]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=(__define,t);return p=i.prototype,p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__4=e,e.source="retry2_normal",e},t}(egret.gui.Skin);e.RetryButtonSkin=t,egret.registerClass(t,"skin.components.RetryButtonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","return_down")]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=(__define,t);return p=i.prototype,p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__4=e,e.source="return_normal",e},t}(egret.gui.Skin);e.ReturnSkin=t,egret.registerClass(t,"skin.components.ReturnSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__4_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__4","source","setting_down")]),new egret.gui.State("disabled",[])]}__extends(t,e);var i=(__define,t);return p=i.prototype,p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__4=e,this.__s(e,["bottom","left","right","source","top"],[0,0,0,"setting_normal",0]),e},t}(egret.gui.Skin);e.SettingButtonSkin=t,egret.registerClass(t,"skin.components.SettingButtonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__7_i()],this.states=[new egret.gui.State("up",[]),new egret.gui.State("down",[new egret.gui.SetProperty("__7","source","sound_down")]),new egret.gui.State("disabled",[]),new egret.gui.State("upAndSelected",[new egret.gui.SetProperty("__7","source","sound_non_normal")]),new egret.gui.State("downAndSelected",[new egret.gui.SetProperty("__7","source","sound_non_down")]),new egret.gui.State("disabledAndSelected",[])]}__extends(t,e);var i=(__define,t);return p=i.prototype,p.__7_i=function(){var e=new egret.gui.UIAsset;return this.__7=e,this.__s(e,["bottom","left","right","source","top"],[0,0,0,"sound_normal",0]),e},t}(egret.gui.Skin);e.SoundButtonSkin=t,egret.registerClass(t,"skin.components.SoundButtonSkin")}(t=e.components||(e.components={}))}(skin||(skin={}));var skin;!function(e){var t=function(t){function i(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[672,628]),this.transitions=[this.__18_i()],this.elementsContent=[this.group1_i()],this.states=[new egret.gui.State("close",[]),new egret.gui.State("open",[new egret.gui.SetProperty("uiasset1","x",0),new egret.gui.SetProperty("sun","y",-656),new egret.gui.SetProperty("cloud","x",-403),new egret.gui.SetProperty("label1","alpha",0),new egret.gui.SetProperty("totalScoreLabel","alpha",0),new egret.gui.SetProperty("label2","alpha",0),new egret.gui.SetProperty("highScoreLabel","alpha",0),new egret.gui.SetProperty("returnButton","alpha",0),new egret.gui.SetProperty("retryButton","alpha",0)])]}__extends(i,t);var n=__define,r=i;return p=r.prototype,n(p,"skinParts",function(){return i._skinParts}),p.__11_i=function(){var e=new egret.gui.Parallel;return this.__11=e,e.target=this.returnButton,e.children=[this.__9_i(),this.__10_i()],e},p.__12_i=function(){var e=new egret.gui.Fade;return this.__s(e,["alphaFrom","alphaTo","startDelay"],[0,1,1e3]),e},p.__13_i=function(){var e=new egret.gui.Rotate;return this.__s(e,["angleFrom","angleTo","autoCenterTransform","startDelay"],[0,360,!0,1e3]),e},p.__14_i=function(){var e=new egret.gui.Parallel;return this.__14=e,e.target=this.retryButton,e.children=[this.__12_i(),this.__13_i()],e},p.__15_i=function(){var e=new egret.gui.Move;return this.__15=e,this.__s(e,["startDelay","target","yFrom","yTo"],[500,this.sun,-656,-263]),e},p.__16_i=function(){var e=new egret.gui.Move;return this.__16=e,this.__s(e,["startDelay","target","xFrom","xTo"],[800,this.cloud,-403,69]),e},p.__17_i=function(){var e=new egret.gui.Parallel;return e.children=[this.__5_i(),this.__6_i(),this.__7_i(),this.__8_i(),this.__11_i(),this.__14_i(),this.__15_i(),this.__16_i(),this.moveEffect_i()],e},p.__18_i=function(){var e=new egret.gui.Transition;return this.__s(e,["fromState","toState"],["close","open"]),e.effect=this.__17_i(),e},p.__3_i=function(){var e=new egret.gui.UIAsset;return this.__s(e,["source","x","y"],["end_close_png",518,0]),e},p.__4_i=function(){var e=new egret.gui.Label;return this.__s(e,["bold","fontFamily","horizontalCenter","italic","text","textColor","top"],[!0,"Arial",-5,!0,"Well Done!",623230,23]),e},p.__5_i=function(){var e=new egret.gui.Fade;return this.__5=e,this.__s(e,["alphaFrom","alphaTo","startDelay","target"],[0,1,500,this.label1]),e},p.__6_i=function(){var e=new egret.gui.Fade;return this.__6=e,this.__s(e,["alphaFrom","alphaTo","startDelay","target"],[0,1,500,this.totalScoreLabel]),e},p.__7_i=function(){var e=new egret.gui.Fade;return this.__7=e,this.__s(e,["alphaFrom","alphaTo","startDelay","target"],[0,1,1e3,this.label2]),e},p.__8_i=function(){var e=new egret.gui.Fade;return this.__8=e,this.__s(e,["alphaFrom","alphaTo","startDelay","target"],[0,1,1e3,this.highScoreLabel]),e},p.__9_i=function(){var e=new egret.gui.Fade;return this.__s(e,["alphaFrom","alphaTo","startDelay"],[0,1,500]),e},p.closeButton_i=function(){var t=new egret.gui.Button;return this.closeButton=t,this.__s(t,["height","label","right","skinName","top","width"],[50,"按钮",33,e.components.CloseButtonSkin,21,50]),t},p.cloud_i=function(){var e=new egret.gui.UIAsset;return this.cloud=e,this.__s(e,["source","x","y"],["end_cloud_png",69,110]),this.__16&&(this.__16.target=this.cloud),e},p.contentGroup_i=function(){var e=new egret.gui.Group;return this.contentGroup=e,this.__s(e,["clipAndEnableScrolling","height","width","x","y"],[!0,574,542,43,98]),e.elementsContent=[this.sun_i(),this.cloud_i(),this.label1_i(),this.totalScoreLabel_i(),this.label2_i(),this.highScoreLabel_i(),this.returnButton_i(),this.retryButton_i()],e},p.group1_i=function(){var e=new egret.gui.Group;return this.group1=e,this.__s(e,["height","width","x","y"],[672,628,0,0]),e.elementsContent=[this.uiasset1_i(),this.__3_i(),this.closeButton_i(),this.__4_i(),this.contentGroup_i()],this.moveEffect&&(this.moveEffect.target=this.group1),e},p.highScoreLabel_i=function(){var e=new egret.gui.Label;return this.highScoreLabel=e,this.__s(e,["bold","fontFamily","horizontalCenter","size","text","textColor","top"],[!0,"Helvetica",0,28,"1560",8377047,212]),this.__8&&(this.__8.target=this.highScoreLabel),e},p.label1_i=function(){var e=new egret.gui.Label;return this.label1=e,this.__s(e,["bold","fontFamily","horizontalCenter","text","textColor","y"],[!0,"Helvetica",.5,"Total score",16745472,16]),this.__5&&(this.__5.target=this.label1),e},p.label2_i=function(){var e=new egret.gui.Label;return this.label2=e,this.__s(e,["bold","fontFamily","text","textColor","x","y"],[!0,"Helvetica","High score",8377047,195,167]),this.__7&&(this.__7.target=this.label2),e},p.moveEffect_i=function(){var e=new egret.gui.Move;return this.moveEffect=e,this.__s(e,["target","yFrom","yTo"],[this.group1,-672,0]),e},p.retryButton_i=function(){var t=new egret.gui.Button;return this.retryButton=t,this.__s(t,["label","skinName","x","y"],["按钮",e.components.RetryButtonSkin,362,386]),this.__14&&(this.__14.target=this.retryButton),t},p.returnButton_i=function(){var t=new egret.gui.Button;return this.returnButton=t,this.__s(t,["label","skinName","x","y"],["按钮",e.components.ReturnSkin,235,446]),this.__11&&(this.__11.target=this.returnButton),t},p.__10_i=function(){var e=new egret.gui.Scale;return this.__s(e,["autoCenterTransform","scaleXFrom","scaleXTo","scaleYFrom","scaleYTo","startDelay"],[!0,0,1,0,1,500]),e},p.sun_i=function(){var e=new egret.gui.UIAsset;return this.sun=e,this.__s(e,["horizontalCenter","source","y"],[0,"end_sun_png",-263]),this.__15&&(this.__15.target=this.sun),e},p.totalScoreLabel_i=function(){var e=new egret.gui.Label;return this.totalScoreLabel=e,this.__s(e,["bold","fontFamily","horizontalCenter","size","text","textColor","top"],[!0,"Helvetica",0,39,"254",16745472,61]),this.__6&&(this.__6.target=this.totalScoreLabel),e},p.uiasset1_i=function(){var e=new egret.gui.UIAsset;return this.uiasset1=e,e.source="end_background",e},i._skinParts=["uiasset1","closeButton","sun","cloud","label1","totalScoreLabel","label2","highScoreLabel","returnButton","retryButton","contentGroup","group1","moveEffect"],i}(egret.gui.Skin);e.EndScreenSkin=t,egret.registerClass(t,"skin.EndScreenSkin")}(skin||(skin={}));var skin;!function(e){var t=function(t){function i(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__3_i(),this.scoreLabel_i(),this.pauseButton_i(),this.__8_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,t);var n=__define,r=i;return p=r.prototype,n(p,"skinParts",function(){return i._skinParts}),p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__s(e,["source","x","y"],["highscroce",128,82]),e},p.__5_i=function(){var e=new egret.gui.Label;return this.__s(e,["bold","fontFamily","size","text","textColor","x","y"],[!0,"Arial",14,"HIGH SCORE:",6194096,154,84]),e},p.__6_i=function(){var e=new egret.gui.Spacer;return this.__s(e,["height","width","x","y"],[20,134,129,34]),e},p.__7_i=function(){var e=new egret.gui.HorizontalLayout;return this.__s(e,["gap","verticalAlign"],[3,"middle"]),e},p.__8_i=function(){var e=new egret.gui.Group;return this.__s(e,["x","y"],[128,82]),e.layout=this.__7_i(),e.elementsContent=[this.__4_i(),this.__5_i(),this.highScoreLabel_i(),this.__6_i(),this.levelIcon_i(),this.levelLabel_i()],e},p.highScoreLabel_i=function(){var e=new egret.gui.Label;return this.highScoreLabel=e,this.__s(e,["bold","fontFamily","size","text","textColor","x","y"],[!0,"Arial",14,"1560",6194096,231,84]),e},p.levelIcon_i=function(){var e=new egret.gui.UIAsset;return this.levelIcon=e,this.__s(e,["source","x","y"],["level_small_easy",302,85]),e},p.levelLabel_i=function(){var e=new egret.gui.Label;return this.levelLabel=e,this.__s(e,["bold","fontFamily","size","text","textColor","x","y"],[!0,"Arial",14,"EASY",6194096,409,84]),e},p.pauseButton_i=function(){var t=new egret.gui.Button;return this.pauseButton=t,this.__s(t,["label","skinName","x","y"],["按钮",e.components.PauseButtonSkin,532,13]),t},p.scoreLabel_i=function(){var e=new egret.gui.Label;return this.scoreLabel=e,this.__s(e,["bold","fontFamily","horizontalCenter","italic","size","text","textColor","top"],[!0,"Arial",0,!0,45,"1000",1516360,21]),e},p.__3_i=function(){var e=new egret.gui.UIAsset;return e.source="menubackground",e},i._skinParts=["scoreLabel","pauseButton","highScoreLabel","levelIcon","levelLabel"],i}(egret.gui.Skin);e.GameMenuSkin=t,egret.registerClass(t,"skin.GameMenuSkin")}(skin||(skin={}));var skin;!function(e){var t=function(e){function t(){e.call(this),this.__s=egret.gui.setProperties,this.currentState="s1",this.elementsContent=[this.__5_i(),this.__6_i(),this.__7_i(),this.__8_i(),this.prevButton_i(),this.nextButton_i()],this.states=[new egret.gui.State("s1",[new egret.gui.SetProperty("__5","left",0),new egret.gui.SetProperty("__5","right",0),new egret.gui.SetProperty("__5","top",0),new egret.gui.SetProperty("__5","bottom",0),new egret.gui.SetProperty("prevButton","source","howtoplay_return")]),new egret.gui.State("s2",[new egret.gui.SetProperty("__6","text","Combining pieces"),new egret.gui.SetProperty("__7","source","howtoplay_2"),new egret.gui.SetProperty("__8","text","When two similar pieces collide they are combined into a new bigger piece.")]),new egret.gui.State("s3",[new egret.gui.SetProperty("__6","text","Score"),new egret.gui.SetProperty("__7","source","howtoplay_3"),new egret.gui.SetProperty("__7","horizontalCenter",32.5),new egret.gui.SetProperty("__7","top",95),new egret.gui.SetProperty("__8","text","Every piece you create gets you points.")]),new egret.gui.State("s4",[new egret.gui.SetProperty("__6","text","High Score"),new egret.gui.SetProperty("__7","source","howtoplay_4"),new egret.gui.SetProperty("__8","text","Keep on combing pieces to get the highest score."),new egret.gui.SetProperty("nextButton","source","howtoplay_return")])]}__extends(t,e);var i=__define,n=t;return p=n.prototype,i(p,"skinParts",function(){return t._skinParts}),p.__6_i=function(){var e=new egret.gui.Label;return this.__6=e,this.__s(e,["bold","fontFamily","horizontalCenter","text","textColor","top"],[!0,"Arial",0,"How to play",20317,18]),e},p.__7_i=function(){var e=new egret.gui.UIAsset;return this.__7=e,this.__s(e,["horizontalCenter","source","top"],[0,"howtoplay_1",95]),e},p.__8_i=function(){var e=new egret.gui.Label;return this.__8=e,this.__s(e,["bold","fontFamily","horizontalCenter","size","text","textAlign","textColor","top","verticalAlign","width"],[!0,"Arial",0,25,"All pieces on the board move into the same direction.","center",20317,326,"middle",418]),e},p.nextButton_i=function(){var e=new egret.gui.UIAsset;return this.nextButton=e,this.__s(e,["horizontalCenter","source","y"],[70,"howtoplay_next",446]),e},p.prevButton_i=function(){var e=new egret.gui.UIAsset;return this.prevButton=e,this.__s(e,["horizontalCenter","source","y"],[-70,"howtoplay_prev",446]),e},p.__5_i=function(){var e=new egret.gui.UIAsset;return this.__5=e,e.source="about_background",e},t._skinParts=["prevButton","nextButton"],t}(egret.gui.Skin);e.HowtoPlaySkin=t,egret.registerClass(t,"skin.HowtoPlaySkin")}(skin||(skin={}));var skin;!function(e){var t=function(t){function i(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[960,640]),this.elementsContent=[this.__3_i(),this.__4_i(),this.progressBar_i(),this.__5_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,t);var n=__define,r=i;return p=r.prototype,n(p,"skinParts",function(){return i._skinParts}),p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__s(e,["horizontalCenter","source","y"],[0,"loading_logo",89]),e},p.__5_i=function(){var e=new egret.gui.Label;return this.__s(e,["fontFamily","horizontalCenter","size","text","textColor","y"],["Arial",.5,14,"Loading...",0,600]),e},p.progressBar_i=function(){var t=new egret.gui.ProgressBar;return this.progressBar=t,this.__s(t,["skinName","slideDuration","width","x","y"],[e.components.ProgressBarSkin,0,416,112,630]),t},p.__3_i=function(){var e=new egret.gui.UIAsset;return this.__s(e,["horizontalCenter","source","verticalCenter"],[0,"loading_logo2",-69]),e},i._skinParts=["progressBar"],i}(egret.gui.Skin);e.LoadingUISkin=t,egret.registerClass(t,"skin.LoadingUISkin")}(skin||(skin={}));var skin;!function(e){var t=function(t){function i(){t.call(this),this.__s=egret.gui.setProperties,this.elementsContent=[this.__3_i(),this.gameMenuUI_i(),this.gameSceneUI_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,t);var n=__define,r=i;return p=r.prototype,n(p,"skinParts",function(){return i._skinParts}),p.gameMenuUI_i=function(){var t=new game.GameMenuUI;return this.gameMenuUI=t,t.skinName=e.GameMenuSkin,t},p.gameSceneUI_i=function(){var e=new game.GameScene;return this.gameSceneUI=e,this.__s(e,["x","y"],[40,120]),e},p.__3_i=function(){var e=new egret.gui.UIAsset;return this.__s(e,["source","y"],["sence_background",0]),e},i._skinParts=["gameMenuUI","gameSceneUI"],i}(egret.gui.Skin);e.MainGameUISkin=t,egret.registerClass(t,"skin.MainGameUISkin")}(skin||(skin={}));var skin;!function(e){var t=function(t){function i(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["currentState","width"],["setting",593]),this.elementsContent=[this.__5_i(),this.titleDisplay_i(),this.contentGroup_i(),this.closeButton_i()],this.__6_i(),this.__7_i(),this.__8_i(),this.yesButton_i(),this.noButton_i(),this.resumeButton_i(),this.howtoplayButton_i(),this.musicButton_i(),this.soundButton_i(),this.__10_i(),this.restartButton_i(),this.quitButton_i(),this.moreButton_i(),this.aboutButton_i(),this.states=[new egret.gui.State("setting",[new egret.gui.AddItems("howtoplayButton","contentGroup","last",""),new egret.gui.AddItems("musicButton","__10","first",""),new egret.gui.AddItems("soundButton","__10","last",""),new egret.gui.AddItems("__10","contentGroup","last",""),new egret.gui.AddItems("moreButton","contentGroup","last",""),new egret.gui.AddItems("aboutButton","contentGroup","last",""),new egret.gui.SetProperty("howtoplayButton","width",363)]),new egret.gui.State("pause",[new egret.gui.AddItems("resumeButton","contentGroup","last",""),new egret.gui.AddItems("howtoplayButton","contentGroup","last",""),new egret.gui.AddItems("musicButton","__10","first",""),new egret.gui.AddItems("soundButton","__10","last",""),new egret.gui.AddItems("__10","contentGroup","last",""),new egret.gui.AddItems("restartButton","contentGroup","last",""),new egret.gui.AddItems("quitButton","contentGroup","last","")]),new egret.gui.State("restart",[new egret.gui.AddItems("__6","__8","first",""),new egret.gui.AddItems("__7","__8","last",""),new egret.gui.AddItems("__8","contentGroup","first",""),new egret.gui.AddItems("yesButton","contentGroup","last",""),new egret.gui.AddItems("noButton","contentGroup","last",""),new egret.gui.SetProperty("__8","height",287),new egret.gui.SetProperty("howtoplayButton","width",363)]),new egret.gui.State("quit",[new egret.gui.AddItems("__6","__8","first",""),new egret.gui.AddItems("__7","__8","last",""),new egret.gui.AddItems("__8","contentGroup","first",""),new egret.gui.AddItems("yesButton","contentGroup","last",""),new egret.gui.AddItems("noButton","contentGroup","last",""),new egret.gui.SetProperty("__7","text","If you quit now you will lose all progress made during this level. Are you sure you want to quit?"),new egret.gui.SetProperty("__8","height",287),new egret.gui.SetProperty("howtoplayButton","width",363)])]}__extends(i,t);var n=__define,r=i;return p=r.prototype,n(p,"skinParts",function(){return i._skinParts}),p.__11_i=function(){var e=new egret.gui.VerticalLayout;return e.horizontalAlign="contentJustify",e},p.__5_i=function(){var e=new egret.gui.UIAsset;return e.source="setting_background",e},p.__6_i=function(){var e=new egret.gui.Label;return this.__6=e,this.__s(e,["bold","fontFamily","horizontalCenter","text","textColor","y"],[!0,"Arial",.5,"Attention!",623230,32]),e},p.__7_i=function(){var e=new egret.gui.Label;return this.__7=e,this.__s(e,["bold","fontFamily","height","horizontalCenter","size","text","textAlign","textColor","width","y"],[!0,"Arial",206,.5,26,"If you restart now you will lose all progress made during this level. Are you sure you want to restart?","center",623230,376,93]),e},p.__8_i=function(){var e=new egret.gui.Group;return this.__8=e,this.__s(e,["height","x","y"],[308,163,39]),e.elementsContent=[],e},p.__9_i=function(){var e=new egret.gui.HorizontalLayout;return e.horizontalAlign="justify",e},p.aboutButton_i=function(){var e=new egret.gui.Button;return this.aboutButton=e,this.__s(e,["label","x","y"],["About",154,401]),e},p.closeButton_i=function(){var t=new egret.gui.Button;return this.closeButton=t,this.__s(t,["height","label","right","skinName","top","width"],[50,"按钮",26,e.components.CloseButtonSkin,21,50]),t},p.contentGroup_i=function(){var e=new egret.gui.Group;return this.contentGroup=e,this.__s(e,["bottom","left","right","top"],[87,56,80,131]),e.layout=this.__11_i(),e.elementsContent=[],e},p.howtoplayButton_i=function(){var e=new egret.gui.Button;return this.howtoplayButton=e,this.__s(e,["label","x","y"],["How to play",95,123]),e},p.moreButton_i=function(){var e=new egret.gui.Button;return this.moreButton=e,this.__s(e,["label","x","y"],["More Games",182,333]),e},p.musicButton_i=function(){var t=new egret.gui.ToggleButton;return this.musicButton=t,this.__s(t,["label","skinName","x","y"],["切换按钮",e.components.MusicButonSkin,41,30]),t},p.noButton_i=function(){var e=new egret.gui.Button;return this.noButton=e,this.__s(e,["label","x","y"],["No",94,435]),e},p.quitButton_i=function(){var e=new egret.gui.Button;return this.quitButton=e,this.__s(e,["label","x","y"],["Quit",145,423]),e},p.restartButton_i=function(){var e=new egret.gui.Button;return this.restartButton=e,this.__s(e,["label","x","y"],["Restart",180,366]),e},p.resumeButton_i=function(){var e=new egret.gui.Button;return this.resumeButton=e,this.__s(e,["label","x","y"],["Resume",166,1]),e},p.__10_i=function(){var e=new egret.gui.Group;return this.__10=e,this.__s(e,["x","y"],[81,233]),e.layout=this.__9_i(),e.elementsContent=[],e},p.soundButton_i=function(){var t=new egret.gui.ToggleButton;return this.soundButton=t,this.__s(t,["label","skinName","x","y"],["切换按钮",e.components.SoundButtonSkin,124,57]),t},p.titleDisplay_i=function(){var e=new egret.gui.Label;return this.titleDisplay=e,this.__s(e,["bold","fontFamily","horizontalCenter","italic","text","textColor","top","verticalAlign"],[!0,"Arial",-4.5,!0,"Settings",623230,28,"middle"]),e},p.yesButton_i=function(){var e=new egret.gui.Button;return this.yesButton=e,this.__s(e,["label","x","y"],["Yes,I am Sure",67,362]),e},i._skinParts=["titleDisplay","yesButton","noButton","resumeButton","howtoplayButton","musicButton","soundButton","restartButton","quitButton","moreButton","aboutButton","contentGroup","closeButton"],i
}(egret.gui.Skin);e.SettingScreenSkin=t,egret.registerClass(t,"skin.SettingScreenSkin")}(skin||(skin={}));var skin;!function(e){var t=function(t){function i(){t.call(this),this.__s=egret.gui.setProperties,this.__s(this,["height","width"],[960,640]),this.elementsContent=[this.__3_i(),this.__4_i(),this.playButton_i(),this.settingButton_i(),this.__5_i(),this.levelButton_i()],this.states=[new egret.gui.State("normal",[]),new egret.gui.State("disabled",[])]}__extends(i,t);var n=__define,r=i;return p=r.prototype,n(p,"skinParts",function(){return i._skinParts}),p.__4_i=function(){var e=new egret.gui.UIAsset;return this.__s(e,["source","x","y"],["start_logo",92,23]),e},p.__5_i=function(){var e=new egret.gui.Label;return this.__s(e,["bold","bottom","fontFamily","horizontalCenter","text","textColor"],[!0,24,"Arial",0,"Powered By Egret Engine",4860458]),e},p.levelButton_i=function(){var t=new game.IconButton;return this.levelButton=t,this.__s(t,["icon","label","skinName","width","x","y"],["level_easy","Easy",e.components.IconButtonSkin,430,144,634]),t},p.playButton_i=function(){var t=new egret.gui.Button;return this.playButton=t,this.__s(t,["label","skinName","x","y"],["按钮",e.components.PlayButtonSkin,174,460]),t},p.settingButton_i=function(){var t=new egret.gui.Button;return this.settingButton=t,this.__s(t,["label","skinName","x","y"],["按钮",e.components.SettingButtonSkin,33,634]),t},p.__3_i=function(){var e=new egret.gui.UIAsset;return e.source="start_background",e},i._skinParts=["playButton","settingButton","levelButton"],i}(egret.gui.Skin);e.StartScreenSkin=t,egret.registerClass(t,"skin.StartScreenSkin")}(skin||(skin={}));var ThemeAdapter=function(){function e(){}var t=(__define,e);return p=t.prototype,p.getTheme=function(e,t,i,n){function r(e){t.call(n,e)}function o(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(e,r,this,RES.ResourceItem.TYPE_TEXT)},e}();egret.registerClass(ThemeAdapter,"ThemeAdapter");